import{_ as y}from"./iframe-32d3d236.js";import{expect as E}from"./index-c4e95e38.js";const{addons:g}=__STORYBOOK_MODULE_PREVIEW_API__,{global:A}=__STORYBOOK_MODULE_GLOBAL__;var l="storybook/a11y",N=`${l}/result`,D=`${l}/request`,L=`${l}/running`,V=`${l}/error`,x=`${l}/manual`,c={RESULT:N,REQUEST:D,RUNNING:L,ERROR:V,MANUAL:x},I="a11y-test",{document:O}=A,d=g.getChannel(),h={config:{},options:{}},U=["region"],R=[],f=!1,S=async()=>{if(R.length===0){f=!1;return}f=!0;let e=R.shift();e&&await e(),S()},T=async(e=h)=>{let{default:i}=await y(()=>import("./axe-0438dd3e.js").then(n=>n.a),["./axe-0438dd3e.js","./_commonjsHelpers-de833af9.js"],import.meta.url),{element:o="body",config:r={},options:a={}}=e,s=O.querySelector(o)??O.body;if(!s)return;i.reset();let t={...r,rules:[...U.map(n=>({id:n,enabled:!1})),...(r==null?void 0:r.rules)??[]]};return i.configure(t),new Promise((n,u)=>{let v=async()=>{try{let _=await i.run(s,a);n(_)}catch(_){u(_)}};R.push(v),f||S()})};d.on(c.MANUAL,async(e,i=h)=>{try{let o=await T(i),r=JSON.parse(JSON.stringify(o));d.emit(c.RESULT,r,e)}catch(o){d.emit(c.ERROR,o)}});function m(){try{return{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}.VITEST_STORYBOOK==="false"}catch{return!1}}function w(){try{return!1}catch{return!1}}var p=!1,M=async({reporting:e,parameters:i,globals:o,tags:r})=>{let a=i.a11y,s=o.a11y;if((a==null?void 0:a.manual)!==!0&&(a==null?void 0:a.disable)!==!0&&(s==null?void 0:s.manual)!==!0){if(w()&&!r.includes(I))return;try{let t=await T(a);if(t){let n=((t==null?void 0:t.violations.length)??0)>0;if(e.addReport({type:"a11y",version:1,result:t,status:n?"failed":"passed"}),m()&&n){if(!p){let{toHaveNoViolations:u}=await y(()=>import("./matchers-57EZJSQE-b1b171f6.js"),[],import.meta.url);E.extend({toHaveNoViolations:u}),p=!0}E(t).toHaveNoViolations()}}}catch(t){if(e.addReport({type:"a11y",version:1,result:{error:t},status:"failed"}),m())throw t}}},P={a11y:{manual:!1}};export{M as experimental_afterEach,P as initialGlobals};
